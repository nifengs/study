<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        ul , h2 { padding:0; margin:0; }
        li { list-style:none; }
        #list { width:240px; border:1px solid #333; margin:0 auto; }
        #list .lis {}
        #list h2 { height:30px; line-height:30px; text-indent:20px; background:url(ico1.gif) no-repeat 5px center #6FF; color:#000; }
        #list .active { background:url(ico2.gif) no-repeat 5px center #FF9; color:#000; }
        #list ul { display:none; }
        #list ul li { line-height:24px; border-bottom:1px solid #333; text-indent:24px; }
        #list ul .hover { background:#6FF; }
    </style>

</head>
<body>
<ul id="list">
    <li class="lis">
        <h2>我的好友</h2>
        <ul>
            <li>张三</li>
            <li>张三</li>
            <li>张三</li>
            <li>张三</li>
        </ul>
    </li>
    <li class="lis">
        <h2>企业好友</h2>
        <ul>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
        </ul>
    </li>
    <li class="lis">
        <h2>黑名单</h2>
        <ul>
            <li>张小三</li>
            <li>李小四</li>
        </ul>
    </li>
</ul>
<script>
    window.onload=function(){
        var oUl = document.getElementById('list');
        var aH2 = oUl.getElementsByTagName('h2');
        var aUl = oUl.getElementsByTagName('ul');
        var aLi=null;
        var arrLi = [];

        for(var i=0;i<aH2.length;i++){
            aH2[i].index=i;
            aH2[i].onclick= function () {
                if(this.className===''){
                //点击显示隐藏
                    aUl[this.index].style.display = 'block';
                    this.className='active';
                }else{
                    aUl[this.index].style.display='none';
                    this.className='';
                }

            }
        }
        for(var i=0;i<aUl.length;i++){
        aLi=document.getElementsByTagName('li');
            for(j=0;j<aLi.length;j++){
                arrLi.push( aLi[j] );//最里面的li放在数组里面
            }
        }
        for(var i=0;i<arrLi.length;i++){
            arrLi[i].onclick=function(){
                for(var i=0;i<aLi.length;i++){
                    if(aLi[i].className!==''){
                        this.className='';
                    }else{
                        this.className='hover';
                    }
                    }

            }
        }
    }
</script>
</body>
</html>