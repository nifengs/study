<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>页面打开时使用预加载图片</title>
    <style type="text/css">
        .box{font-size:13px;margin:0 auto;text-align:center;height:200px;width:216px}
        .imgbg{float:left;overflow:hidden;height:200px;width:150px;background:#fff url(images/loading.gif) center center no-repeat}
        .imgpl, .imgnl{height:200px;width:22px}
        .imgpl{float:left;padding-right:11px}
        .imgnl{float:right;padding-left:11px}
        .imgpl:hover,.imgpl:visited:hover{background: url(images/left.jpg) left 50% no-repeat;filter: alpha(opacity=60);-moz-opacity: 0.6;-khtml-opacity: 0.6;opacity: 0.6}
        .imgnl:hover,.imgnl:visited:hover{background: url(images/right.jpg) right 50% no-repeat;filter: alpha(opacity=60);-moz-opacity: 0.6;-khtml-opacity: 0.6;opacity: 0.6}
        .tip{clear: both;height: 23px;line-height: 23px}
    </style>
    <script src="Jscript/jquery-1.8.2.min.js" 
            type="text/javascript"></script>
    <script src="Plugs/11-4.js" 
            type="text/javascript"></script>
    <script type="text/javascript">
        var arrImg = new Array("Images/pics/2008.jpg",
            "Images/pics/2009.jpg",
            "Images/pics/2010.jpg",
            "Images/pics/2011.jpg", 
            "Images/pics/2012.jpg");
        $(function() {
            var $imgShow = $("#imgShow");
            var i = 0;
            var max = arrImg.length - 1; //图片的最大数 (总数减1)
            /*下一张*/
            $(".imgnl").bind("click", function() {
                i++;
                if (i > max) {
                    i = 0;
                }
                loadPic(i);
                return false;
            });
            /*上一张*/
            $(".imgpl").bind("click", function() {
                i--;
                if (i < 0) {
                    i = max;
                }
                loadPic(i);
                return false;
            });
            loadPic(0); //进入页面初始化
            function loadPic(i) {
                $imgShow.beforeload({ "src": arrImg[i] }); //应用图片预加载技术
                $(".tip").html("第 " + parseInt(i + 1) + " 张");
            }
        }); 
    </script>
</head>
<body>
    <div class="box">
        <div class="imgpl">
        </div>
        <div class="imgbg">
            <img id="imgShow" />
        </div>
        <div class="imgnl">
        </div>
        <p class="tip">
        </p>
    </div>
</body>
</html>
